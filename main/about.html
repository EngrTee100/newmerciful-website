<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MERCIFUL CRUNCHY — About</title>
  <link rel="stylesheet" href="../styles/common.css" />
  <link rel="stylesheet" href="../styles/about.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-grid">
      <a class="brand" href="merciful.html">MERCIFUL CRUNCHY</a>
      <nav class="nav" aria-label="Main navigation">
        <a href="merciful.html">Shop</a>
        <a href="about.html" aria-current="page">About Us</a>
        <a href="contact.html">Contact Us</a>
        <a href="cart.html" class="cart-link">Cart (<span id="cart-count">0</span>)</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>About MERCIFUL CRUNCHY</h1>

    <section class="about-intro">
      <p>
        MERCIFUL CRUNCHY is a family-run snack business specializing in crunchy chinchin and savory peanut burgers.
        We use traditional recipes, high-quality ingredients, and small-batch production to deliver the perfect crunch every time.
      </p>
    </section>

    <section class="gallery" aria-label="Product gallery">
      <figure>
        <img src="../images/chinchin.jpg" alt="Close up of crunchy chinchin" />
        <figcaption>Crunchy Chinchin — golden, bite-sized pieces.</figcaption>
      </figure>
      <figure>
        <img src="../images/peanut-burger.jpg" alt="Peanut burger" />
        <figcaption>Peanut Burger — savory, nut-packed goodness.</figcaption>
      </figure>
    </section>

    <section>
      <h2>Business Info</h2>
      <ul>
        <li><strong>Contact:</strong> <span id="business-phone-display">+2349037464756</span></li>
        <li><strong>Hours:</strong> Mon–Sat, 8:00 — 22:00</li>
        <li><strong>Address:</strong> Your street, Your city (update on Contact page)</li>
      </ul>
    </section>

    <section aria-label="Contact options" style="margin-top:20px">
      <h2>Contact Us</h2>
      <p>Choose how you'd like to reach us — call, WhatsApp or email. You can also send a message using the form below.</p>

      <div style="display:flex;gap:12px;flex-wrap:wrap;margin-bottom:14px">
        <!-- Phone -->
        <a class="btn" href="tel:+2349037464756" aria-label="Call MERCIFUL CRUNCHY">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="vertical-align:middle;margin-right:8px">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.86 19.86 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.86 19.86 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.12 1.21.44 2.4.95 3.52a2 2 0 0 1-.45 2.11L8.7 11.3a16 16 0 0 0 6 6l1.95-1.95a2 2 0 0 1 2.11-.45c1.12.51 2.31.83 3.52.95A2 2 0 0 1 22 16.92z" fill="currentColor"/>
          </svg>
          Call Us
        </a>

        <!-- WhatsApp -->
        <a class="btn" href="https://wa.me/2349037464756?text=Hello%20Merciful%20Crunchy%20I%20would%20like%20to%20place%20an%20order" target="_blank" rel="noopener" aria-label="Contact via WhatsApp">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="vertical-align:middle;margin-right:8px">
            <path d="M20.52 3.48A11.94 11.94 0 0 0 12 0C5.37 0 .05 5.31.05 11.94c0 2.11.55 4.18 1.59 6.01L0 24l6.28-1.62A11.93 11.93 0 0 0 12 24c6.63 0 11.95-5.31 11.95-11.94 0-3.2-1.25-6.2-3.43-8.58zM12 21.6a9.59 9.59 0 0 1-4.9-1.39l-.35-.21L5 20l1.41-1.82-.23-.36A9.58 9.58 0 1 1 12 21.6z" fill="currentColor"/>
            <path d="M17.17 14.22c-.3-.15-1.77-.87-2.04-.97-.27-.1-.47-.15-.67.15s-.77.97-.95 1.17c-.17.2-.35.22-.65.07-.3-.15-1.27-.47-2.42-1.48-.9-.8-1.51-1.8-1.69-2.1-.17-.3-.02-.46.12-.61.12-.12.3-.31.45-.46.15-.15.2-.26.3-.43.1-.17.05-.31-.02-.46-.07-.15-.67-1.6-.92-2.19-.24-.58-.48-.5-.67-.51l-.57-.01c-.2 0-.52.07-.8.31-.27.24-1.03 1-1.03 2.45 0 1.46 1.05 2.87 1.2 3.07.15.2 2.07 3.27 5.01 4.56 2.94 1.3 2.94.87 3.47.81.53-.07 1.77-.72 2.02-1.42.25-.7.25-1.3.18-1.42-.07-.12-.27-.2-.57-.35z" fill="#fff"/>
          </svg>
          WhatsApp
        </a>

        <!-- Email -->
        <a class="btn" href="mailto:info@mercifulcrunchy.example" aria-label="Email MERCIFUL CRUNCHY">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="vertical-align:middle;margin-right:8px">
            <path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z" fill="currentColor"/>
          </svg>
          Email
        </a>
      </div>

      <!-- Inline contact form (same structure as contact page) -->
      <form id="about-contact-form" class="contact-form" aria-label="Send us a message">
        <label>
          Your name
          <input type="text" id="about-contact-name" required />
        </label>
        <label>
          Email
          <input type="email" id="about-contact-email" required />
        </label>
        <label>
          Phone
          <input type="tel" id="about-contact-phone" />
        </label>
        <label>
          Message
          <textarea id="about-contact-message" rows="4" required></textarea>
        </label>
        <div class="form-actions">
          <button type="submit" class="btn-primary">Send Message</button>
        </div>
        <p id="about-contact-status" class="muted" role="status" aria-live="polite"></p>
      </form>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; <span id="year"></span> MERCIFUL CRUNCHY — All rights reserved.</p>
      <p>Follow us on social or <a href="contact.html">contact</a>.</p>
    </div>
  </footer>

  <script>
    // Small client-side behavior for the form on this page
    document.getElementById('year').textContent = new Date().getFullYear();

    const form = document.getElementById('about-contact-form');
    if (form) {
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const statusEl = document.getElementById('about-contact-status');
        statusEl.textContent = 'Sending message...';

        const payload = {
          name: document.getElementById('about-contact-name').value.trim(),
          email: document.getElementById('about-contact-email').value.trim(),
          phone: document.getElementById('about-contact-phone').value.trim(),
          message: document.getElementById('about-contact-message').value.trim()
        };

        // Try to POST to backend; if backend not available, fall back to local save
        try {
          const res = await fetch('/api/contact', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          const json = await res.json();
          if (!res.ok) throw new Error(json.error || res.statusText);
          statusEl.textContent = 'Thank you — your message has been received.';
          form.reset();
        } catch (err) {
          // fallback: save to localStorage
          const contacts = JSON.parse(localStorage.getItem('mc_contacts') || '[]');
          contacts.push({ ...payload, createdAt: new Date().toISOString() });
          localStorage.setItem('mc_contacts', JSON.stringify(contacts));
          statusEl.textContent = 'You are offline — your message was saved locally.';
          form.reset();
        }
      });
    }
  </script>

  <!-- Main script for cart and functionality -->
  <script src="../script/merciful.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
