<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MERCIFUL CRUNCHY ‚Äî Contact</title>
  <link rel="stylesheet" href="../styles/common.css" />
  <link rel="stylesheet" href="../styles/contact.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-grid">
      <a class="brand" href="merciful.html">MERCIFUL CRUNCHY</a>
      <nav class="nav">
        <a href="merciful.html">Shop</a>
        <a href="about.html">About Us</a>
        <a href="contact.html" aria-current="page">Contact Us</a>
        <a href="cart.html" class="cart-link">Cart (<span id="cart-count">0</span>)</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>Contact Us</h1>
    <p>Reach out to us directly or send a message below. We'll get back to you as soon as possible.</p>

    <!-- Quick Contact Options -->
    <section style="margin-top:24px;padding:20px;background:#f9f5f0;border-radius:12px;margin-bottom:24px">
      <h2 style="margin-top:0">Get in Touch</h2>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-top:16px">
        <!-- Phone -->
        <div style="padding:16px;background:white;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.06)">
          <h3 style="margin:0 0 8px 0;color:#d97706">üìû Call Us</h3>
          <p class="muted" style="margin:0">Monday - Saturday, 8:00 AM - 10:00 PM</p>
          <a href="tel:+2349037464756" style="display:inline-block;margin-top:8px;font-weight:600;color:#d97706;text-decoration:none">+234 903 746 4756</a>
        </div>

        <!-- WhatsApp -->
        <div style="padding:16px;background:white;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.06)">
          <h3 style="margin:0 0 8px 0;color:#25d366">üí¨ WhatsApp</h3>
          <p class="muted" style="margin:0">Instant messaging with quick replies</p>
          <a href="https://wa.me/2349037464756?text=Hello%20Merciful%20Crunchy%2C%20I%20would%20like%20to%20inquire%20about%20your%20products" target="_blank" rel="noopener" style="display:inline-block;margin-top:8px;font-weight:600;color:#25d366;text-decoration:none">Start Chat</a>
        </div>

        <!-- Email -->
        <div style="padding:16px;background:white;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.06)">
          <h3 style="margin:0 0 8px 0;color:#d97706">‚úâÔ∏è Email</h3>
          <p class="muted" style="margin:0">Send us an email anytime</p>
          <a href="mailto:info@mercifulcrunchy.com" style="display:inline-block;margin-top:8px;font-weight:600;color:#d97706;text-decoration:none;word-break:break-all">info@mercifulcrunchy.com</a>
        </div>
      </div>
    </section>

    <!-- Contact Form -->
    <section style="max-width:600px">
      <h2>Send us a Message</h2>
      <form id="contact-form" class="contact-form">
        <label>
          Your name <span style="color:#d97706">*</span>
          <input type="text" id="contact-name" required />
        </label>
        <label>
          Email <span style="color:#d97706">*</span>
          <input type="email" id="contact-email" required />
        </label>
        <label>
          Phone (optional)
          <input type="tel" id="contact-phone" />
        </label>
        <label>
          Message <span style="color:#d97706">*</span>
          <textarea id="contact-message" rows="6" required placeholder="Tell us how we can help..."></textarea>
        </label>
        <div>
          <button type="submit" class="btn-primary">Send Message</button>
        </div>
        <p id="contact-status" class="muted" role="status" aria-live="polite" style="margin-top:12px"></p>
      </form>
    </section>

    <!-- Business Hours & Location -->
    <section style="margin-top:40px;padding:20px;background:#fff9f3;border-radius:12px">
      <h2 style="margin-top:0">Business Information</h2>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px">
        <div>
          <h3>Hours of Operation</h3>
          <ul style="list-style:none;padding:0;margin:0">
            <li style="padding:4px 0"><strong>Monday - Friday:</strong> 8:00 AM - 10:00 PM</li>
            <li style="padding:4px 0"><strong>Saturday:</strong> 8:00 AM - 11:00 PM</li>
            <li style="padding:4px 0"><strong>Sunday:</strong> Closed</li>
          </ul>
        </div>
        <div>
          <h3>Location</h3>
          <p style="margin:0">
            MERCIFUL CRUNCHY<br/>
            Lagos, Nigeria<br/>
            <a href="tel:+2349037464756">+234 903 746 4756</a>
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; <span id="year"></span> MERCIFUL CRUNCHY ‚Äî All rights reserved.</p>
      <p><a href="merciful.html">Shop</a> ‚Ä¢ <a href="about.html">About</a> ‚Ä¢ <a href="contact.html">Contact</a></p>
    </div>
  </footer>

  <script src="../script/merciful.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Contact form handling
    const contactForm = document.getElementById('contact-form');
    if (contactForm) {
      contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const statusEl = document.getElementById('contact-status');
        statusEl.textContent = 'Sending message...';

        const payload = {
          name: document.getElementById('contact-name').value.trim(),
          email: document.getElementById('contact-email').value.trim(),
          phone: document.getElementById('contact-phone').value.trim(),
          message: document.getElementById('contact-message').value.trim()
        };

        try {
          const res = await fetch('http://localhost:3000/api/contact', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          const json = await res.json();
          if (!res.ok) throw new Error(json.error || res.statusText);
          statusEl.style.color = '#065f46';
          statusEl.textContent = '‚úì Thank you! Your message has been received. We will contact you soon.';
          contactForm.reset();
        } catch (err) {
          // Fallback: save locally
          const contacts = JSON.parse(localStorage.getItem('mc_contacts') || '[]');
          contacts.push({ ...payload, createdAt: new Date().toISOString() });
          localStorage.setItem('mc_contacts', JSON.stringify(contacts));
          statusEl.style.color = '#92400e';
          statusEl.textContent = 'Message saved locally. You are offline but we will get back to you.';
          contactForm.reset();
        }
      });
    }
  </script>
</body>
</html>
